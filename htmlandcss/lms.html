<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS</title>
    <link rel="stylesheet" href="lms.css">
</head>
<body>
    
    <div class="container">
        <div class="header"><h1>LMS</h1>
            <p id="name">Your paragraph content goes here.</p>
              <p id="mail">Your paragraph content goes here.</p>


        </div>
        <div class="menu">
            <img src="./assets/hamburgermenu.png" id="hamburger-menu" onclick="openmenu()">
            <h2>Dashboard</h2>
            <div id="menu-options">
                <span onclick="closeMenu()">X</span>
                <ul>
                    <a href="/">
                        
                        <li>
                            <p>Dashboard</p>
                        </li>
                    </a>
                    <a href="applyleave.html"><li> <p>Apply Leave</p></li></a>
                    <a href="/"><li><p>CompOff Management </p></li></a>
                    <a href="/"><li><p> Leave Records</p></li></a>
                    <a href="/"><li><p>Summary </p></li></a>

                   
                </ul>
            </div>
        </div>
        <div class="row-1">
            <div class="categories">
                <h5>Leave Summary</h5>
                
                <div></div>
                <div class="column-1">
                    <div class="available-leaves">
                        <h3>Sick </h3>
                        <label>10</label>
                        <label>00</label>
                        <label>02</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>AW</span>
                    </div>
                </div>
                <div class="column-2">
                    <div class="available-leaves">
                        <h3>Privilege </h3>
                        <label>01</label>
                        <label>03</label>
                        <label>02</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>Aw</span>
                    </div>
                </div>
                <div class="column-3">
                    <div class="available-leaves">
                        <h3>CompOff </h3>
                        <label>07</label>
                        <label>04</label>
                        <label>00</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>Aw</span>
                    </div>
                </div>
                <div class="row-2">
                    <div class="available-leaves">
                        <h3>Bevarement </h3>
                        <label>07</label>
                        <label>04</label>
                        <label>00</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>AW</span>
                    </div>
                </div>
                <div class="column-4">
                    <div class="available-leaves">
                        <h3>Maternity </h3>
                        <label>07</label>
                        <label>04</label>
                        <label>00</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>AW</span>
                    </div>
                </div>
                <div class="column-5">
                    <div class="available-leaves">
                        <h3>Paternity </h3>
                        <label>07</label>
                        <label>04</label>
                        <label>00</label>
                    </div>
                    <div class="types">
                        <span>AL</span>
                        <span>LT</span>
                        <span>AW</span>
                    </div>
                </div>

            </div>

        </div>
        <div></div>
        <div class="box-2">
            <div class="calendar">
                <a href="#" id="previous">&laquo;</a>
                <p id="month">May</p>
                <p id="year">2020</p>
                <a href="#" id ="next">&raquo;</a>
                </div>
                <div></div>
                <div class="days-box">
<div class="days">
    <span>Sun</span>
    <span>Mon</span>

    <span>Tue</span>

    <span>Wed</span>

    <span>Thu</span>

    <span>Fri</span>
    <span>Sat</span>

</div>

<div class="dates">
    <p id="date"></p>
</div>

                </div>
                
                



        </div>
        <div class="box3">
            <h4>Leave Records</h4>
            <div class="leave-records">
                <p id="leaveid-header">Leave ID

                </p>
                <p id="leavetype-header">Leave Type</p>
                    
            </p>
                <p id="leavedays-header">NO.Of Days
                    
                </p>
                <p id="leavedate-header">Date 
                    
                </p>
                <p id="leavereason-header">Reason
                    
                </p>
                <p id="leavestatus-header">Leave Status</p>
                <p id="manager-header" >Manager
                    
                </p>
            </div>
            <div class="leave-history">
                <p id="leaveid">1</p>
                <p id="leaveType"></p>
<p id="numberOfDays" ></p>
<p id="date"></p>

<p id="reasonforleave"></p>

<p id="leaveStatus"></p>
<p id="manager"></p>

                       
                        
            </div>
        </div>
        <div class="box4">
</div>
      
   <footer class="footer">
    <p>LMS</p>
   </footer>     

</div>

<script>
let hamburgerMenu= document.getElementById("hamburger-menu");
    let menu = document.getElementById("menu-options");
    let container = document.getElementsByClassName("container");
    var  leavesElements =document.getElementById("leaves");
    var userMail=document.getElementById("mail");
    var userName=document.getElementById("name");
          // Retrieve user details from local storage
var userDetailsString = localStorage.getItem("userDetails");
var userDetails = JSON.parse(userDetailsString);
    var validUser = userDetails.some(function(user) {
        
        userMail.innerHTML=user.email;
        userName.innerHTML=user.username;

    });
    
   
        document.addEventListener('DOMContentLoaded', function () {
    var leaveData = JSON.parse(localStorage.getItem("leaveData")) || [];
    var leaveRecordsContainer = document.querySelector('.leave-history');
    leaveRecordsContainer.innerHTML = '';

    leaveData.forEach(function(leave) {
        var leaveRecordDiv = document.createElement('div');
        leaveRecordDiv.classList.add('leaveRecordDiv');
        leaveRecordDiv.innerHTML = `
            <p>${leave.leaveid}</p>
            <p>${leave.leaveType}</p>
            <p>${leave.numberOfDays}</p>
            <p>${leave.startDate} </p>
            <p>${leave.reason}</p>
            <p>${leave.leaveStatus}</p>
            <p>${leave.manager}</p>
        `;
        leaveRecordsContainer.appendChild(leaveRecordDiv);
    });
});


    function openmenu(){
      menu.style.visibility="visible";
document.body.classList.add("container-scroll");
    }
    function closeMenu(){
menu.style.visibility="hidden";
    }
    
const month = document.getElementById("month");
const year = document.getElementById("year");
const dates = document.getElementById("date");
const todayDate = new Date();
const months = ['January','February','March','April','May','June','July','August','September','October','November','December'];

// Display current month and year
month.innerHTML = months[todayDate.getMonth()];
year.innerHTML = todayDate.getFullYear();

console.log(month.innerHTML + dates.innerHTML + year.innerHTML);
// Function to generate calendar for a specific year and month
function generateCalendar(year, monthIndex) {
  const daysElement = document.querySelector('.days');
  const datesElement = document.querySelector('.dates');
  
  // Clear previous dates
  datesElement.innerHTML = "";
  

  // Get the first day of the month
  const firstDay = new Date(year, monthIndex, 1).getDay();

  // Get the number of days in the month
  const totalDays = new Date(year, monthIndex + 1, 0).getDate();

  // Generate blank spaces for days before the first day of the month
  for (let i = 0; i < firstDay; i++) {
    const dayElement = document.createElement('span');
    dayElement.textContent = "";
    daysElement.appendChild(dayElement);
  }

  // Generate dates for the month
  for (let date = 1; date <= totalDays; date++) {
    const dateElement = document.createElement('span');
    dateElement.textContent = date;
    datesElement.appendChild(dateElement);
  }
}

// Display current month's calendar
generateCalendar(todayDate.getFullYear(), todayDate.getMonth());

// Event listener for previous and next buttons
document.addEventListener('click', function(event) {
  if (event.target.tagName === 'A') {
    if (event.target.textContent === '«') {
      // Show previous month
      todayDate.setMonth(todayDate.getMonth() - 1);
    } else if (event.target.textContent === '»') {
      // Show next month
      todayDate.setMonth(todayDate.getMonth() + 1);
    }

    // Update month and year
    setTimeout(function() {
        
      month.innerHTML = months[todayDate.getMonth()];
      year.innerHTML = todayDate.getFullYear();

      // Generate calendar for the updated month
      generateCalendar(todayDate.getFullYear(), todayDate.getMonth());
    }, 500); // 0.5 seconds delay
  }
  
     

});
</script

</body>
</html>