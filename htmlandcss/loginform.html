<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
    <link rel="stylesheet" href="sigin.css">
</head>
<body>
   
    <div class="user-details">
        <div class="input-box"><img src="./assets/logo2.png" width="80"><span class="signin">Login </span>
        <form id="loginform">
            <span class="details">Email </span>
            <input type="email" id="email" placeholder="Enter your Email Address" required >
            <span class="details">Password </span>
            <input type="password" id="password" placeholder="Enter your password" required>
            <div class="Sign-in">
                <input type="submit" id="button" value="Login In" onClick="navigateToHomepage()">
                <a class="forgot-password" href="/">
                    <p>Forgot Password?</p>
                </a>
            </div>
        </form>
        </div>
    </div>
    <script>
        var userDetailsString = localStorage.getItem("userDetails");

// Parse the JSON string to convert it back to an object
var userDetails = JSON.parse(userDetailsString);
        // Extract data from URL parameters
        console.log(userDetails);
        
       var email_id= userDetails.email;
       var user_password=userDetails.password;
        


       
       // Retrieve user details from local storage
var userDetailsString = localStorage.getItem("userDetails");

// Parse the JSON string to convert it back to an object (an array in this case)
var userDetails = JSON.parse(userDetailsString);
document.getElementById("loginform").addEventListener("submit", function(event) {
    // Prevent the default form submission behavior
    event.preventDefault();

    // Call the navigateToHomepage function when the form is submitted
    navigateToHomepage();
})
function navigateToHomepage() {
    // Retrieve entered email and password from the login form
    var enteredEmail = document.getElementById("email").value;
    var enteredPassword = document.getElementById("password").value;
    console.log("Entered email:", enteredEmail);
    console.log("Entered password:", enteredPassword);
    console.log("User details:", userDetails);

    // Iterate through the user details array to find a matching email and password
    var validUser = userDetails.some(function(user) {
        console.log("Checking user:", user);
        console.log("Comparing email:", user.email, "==", enteredEmail);
        console.log("Comparing password:", user.password, "==", enteredPassword);
        return user.email === enteredEmail && user.password === enteredPassword;
    });

    // Redirect to the homepage if credentials are valid, otherwise show an error message
    if (validUser) {
        console.log("Invalid user. Displaying alert.");
        window.location.replace("socialmedia.html");
    } else {
        // Handle incorrect credentials
        console.log("Invalid user. Displaying alert.");
        alert("Incorrect email or password.");
    }
}

        

        
        // Display the data
       
    
</script>
</body>
</html>
